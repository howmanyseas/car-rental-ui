import{a as me,b as de,c as se,d as ce}from"./chunk-75YCUOOS.js";import{b as G,c as J}from"./chunk-M6W3NZ6F.js";import{a as K,b as Q,c as X,d as Y,e as Z,f as ee,g as te,h as ae,i as ne,j as oe,k as ie}from"./chunk-6CCPTPZT.js";import{a as re,b as le}from"./chunk-I2XLL75Z.js";import{a as B,c as U,f as q,g as j}from"./chunk-YW6MCIL5.js";import"./chunk-BEZHQCNN.js";import"./chunk-OBZFBI5J.js";import"./chunk-VPE76UKK.js";import"./chunk-GSQDRV4R.js";import{c as W,e as F}from"./chunk-X6BUMP3A.js";import"./chunk-GCRTNX5W.js";import{b as H,g as N,l as $,v as L}from"./chunk-XXBXU6LL.js";import{U as z,da as A}from"./chunk-LKMVW7YE.js";import{$b as h,Ca as f,Cb as y,Cc as P,Da as _,Dc as T,Ib as p,Pb as m,Rb as k,Yb as r,Zb as l,_b as C,ac as M,cc as u,ed as I,fc as b,fd as E,hc as s,ld as R,pb as o,pd as V,qc as O,rc as c,sc as g,tc as v,vb as S,vc as w,wc as D,xc as x}from"./chunk-OVOXXI53.js";function fe(t,a){if(t&1){let e=u();r(0,"button",16),b("click",function(){let i=f(e).$implicit,d=s();return _(d.onStatClick(i))}),r(1,"div",17),c(2),l(),r(3,"div",18),c(4),l()()}if(t&2){let e=a.$implicit;o(2),g(e.label),o(2),g(e.value)}}function _e(t,a){if(t&1){let e=u();r(0,"button",19),b("click",function(){let i=f(e).$implicit,d=s();return _(d.setViewMode(i))}),c(1),P(2,"titlecase"),l()}if(t&2){let e=a.$implicit,n=s();k("active",n.viewMode===e),o(),v(" ",T(2,3,e)," ")}}function ge(t,a){if(t&1&&(r(0,"mat-option",23),c(1),l()),t&2){let e=a.$implicit;m("value",e),o(),v(" ",e," ")}}function ue(t,a){if(t&1){let e=u();r(0,"mat-form-field",20)(1,"mat-label"),c(2,"Select Week"),l(),r(3,"mat-select",21),x("valueChange",function(i){f(e);let d=s();return D(d.selectedWeek,i)||(d.selectedWeek=i),_(i)}),b("selectionChange",function(i){f(e);let d=s();return _(d.onWeekSelect(i.value))}),p(4,ge,2,2,"mat-option",22),l()()}if(t&2){let e=s();o(3),w("value",e.selectedWeek),o(),m("ngForOf",e.weeks)}}function be(t,a){if(t&1){let e=u();r(0,"mat-form-field",20)(1,"mat-label"),c(2,"Select Day"),l(),r(3,"input",24),x("ngModelChange",function(i){f(e);let d=s();return D(d.selectedDate,i)||(d.selectedDate=i),_(i)}),b("dateChange",function(i){f(e);let d=s();return _(d.onDateSelect(i.value))}),l(),C(4,"mat-datepicker-toggle",25)(5,"mat-datepicker",null,0),l()}if(t&2){let e=O(6),n=s();o(3),m("matDatepicker",e),w("ngModel",n.selectedDate),o(),m("for",e)}}function Ce(t,a){t&1&&(r(0,"th",26),c(1,"Category"),l())}function he(t,a){if(t&1&&(r(0,"td",27),c(1),l()),t&2){let e=a.$implicit;o(),g(e.category)}}function Me(t,a){if(t&1&&(r(0,"th",26),c(1),l()),t&2){let e=s().$implicit;o(),g(e)}}function ve(t,a){if(t&1&&(r(0,"td",27),c(1),l()),t&2){let e=a.$implicit,n=s().$implicit;o(),g(e[n])}}function we(t,a){if(t&1&&(h(0,28),p(1,Me,2,1,"th",11)(2,ve,2,1,"td",12),M()),t&2){let e=a.$implicit;m("matColumnDef",e)}}function De(t,a){t&1&&C(0,"tr",29)}function xe(t,a){t&1&&C(0,"tr",30)}var pe=class t{constructor(a){this.router=a}stats=[{label:"Owned",value:Math.floor(Math.random()*20)},{label:"Unavailable",value:Math.floor(Math.random()*20)},{label:"On Rent",value:Math.floor(Math.random()*20),route:"/rental-lists"},{label:"Closed Rentals",value:Math.floor(Math.random()*20)},{label:"Overdue",value:Math.floor(Math.random()*20)},{label:"Idle",value:Math.floor(Math.random()*20)},{label:"Out of Service",value:Math.floor(Math.random()*20)}];viewModes=["week","day"];viewMode="week";weeks=["Week 1","Week 2","Week 3","Week 4"];selectedWeek=this.weeks[0];selectedDate=new Date;categories=["On Hand","Due In","Res D/I","Stn-Inv","Veh-Rsvd","Available"];tableData=[];ngOnInit(){this.generateTableData()}onStatClick(a){a.route&&this.router.navigate([a.route])}setViewMode(a){this.viewMode=a,this.generateTableData()}onWeekSelect(a){this.selectedWeek=a,this.generateTableData()}onDateSelect(a){this.selectedDate=a,this.generateTableData()}generateTableData(){let a=this.displayedDays;this.tableData=this.categories.map(e=>{let n={category:e};return a.forEach(i=>n[i]=Math.floor(Math.random()*10)),n})}getStartOfWeek(a){let e=new Date(a),n=e.getDay(),i=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(i))}get displayedDays(){if(this.viewMode==="day")return[this.selectedDate.toLocaleDateString("en-US",{weekday:"short"})];let a=this.getStartOfWeek(this.selectedDate);return Array.from({length:7}).map((e,n)=>new Date(a.getTime()+n*864e5).toLocaleDateString("en-US",{weekday:"short"}))}get displayedColumns(){return["category",...this.displayedDays]}static \u0275fac=function(e){return new(e||t)(S(W))};static \u0275cmp=y({type:t,selectors:[["app-sm-dashboard"]],decls:17,vars:8,consts:[["dp",""],[1,"dashboard-title"],[1,"filter-tabs","stats-row"],["class","stat-btn",3,"click",4,"ngFor","ngForOf"],[1,"view-toggle"],[3,"active","click",4,"ngFor","ngForOf"],[1,"date-filters"],["appearance","outline",4,"ngIf"],[1,"table-container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"stat-btn",3,"click"],[1,"stat-label"],[1,"stat-value"],[3,"click"],["appearance","outline"],[3,"valueChange","selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["mat-header-cell",""],["mat-cell",""],[3,"matColumnDef"],["mat-header-row",""],["mat-row",""]],template:function(e,n){e&1&&(r(0,"h2",1),c(1,"Station Manager Dashboard"),l(),r(2,"div",2),p(3,fe,5,2,"button",3),l(),r(4,"div",4),p(5,_e,3,5,"button",5),l(),r(6,"div",6),p(7,ue,5,2,"mat-form-field",7)(8,be,7,3,"mat-form-field",7),l(),r(9,"div",8)(10,"table",9),h(11,10),p(12,Ce,2,0,"th",11)(13,he,2,1,"td",12),M(),p(14,we,3,1,"ng-container",13)(15,De,1,0,"tr",14)(16,xe,1,0,"tr",15),l()()),e&2&&(o(3),m("ngForOf",n.stats),o(2),m("ngForOf",n.viewModes),o(2),m("ngIf",n.viewMode==="week"),o(),m("ngIf",n.viewMode==="day"),o(2),m("dataSource",n.tableData),o(4),m("ngForOf",n.displayedDays),o(),m("matHeaderRowDef",n.displayedColumns),o(),m("matRowDefColumns",n.displayedColumns))},dependencies:[V,I,E,R,L,H,N,$,F,j,q,B,U,ce,me,de,se,z,J,G,le,re,A,ie,K,X,te,Y,Q,ae,Z,ee,ne,oe],styles:["[_nghost-%COMP%]{display:block;margin:30px}h2[_ngcontent-%COMP%]{color:#fff;font-family:Inter}.dashboard-title[_ngcontent-%COMP%]{margin-bottom:16px;font-size:1.5rem}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px}.stat-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.stats-row[_ngcontent-%COMP%]   .stat-btn[_ngcontent-%COMP%], .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-gradient-opaque);border:none;padding:8px 16px;border-radius:6px;color:#fff;cursor:pointer;font-size:.875rem;transition:background .3s}.stats-row[_ngcontent-%COMP%]   .stat-btn[_ngcontent-%COMP%]:hover, .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#646363}.view-toggle[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#3a3a3a;border:none;padding:8px 16px;border-radius:6px;color:#fff;cursor:pointer;font-size:.875rem;transition:background .3s}.view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#008dd2}.date-filters[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-bottom:16px}.mat-form-field[_ngcontent-%COMP%]{width:160px}.table-container[_ngcontent-%COMP%]{flex:1;overflow:auto;background:var(--color-gradient-opaque);border-radius:10px;border:white 1px solid}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:transparent;color:#fff!important}th[_ngcontent-%COMP%]{background:#242323;color:#fff;font-weight:700;font-family:Inter}td[_ngcontent-%COMP%]{padding:12px;color:#fff}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]{text-align:center;padding:8px;border-bottom:1px solid rgba(255,255,255,.12);color:#fff!important}"]})};export{pe as SmDashboardComponent};
