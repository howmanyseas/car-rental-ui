import{a as ve}from"./chunk-4K4IJ45B.js";import{a as Gt}from"./chunk-NKWKUKJX.js";import{d as Qt,e as en}from"./chunk-GHV7XGMU.js";import"./chunk-BVW3UXRY.js";import{c as Wt}from"./chunk-M6W3NZ6F.js";import{g as Yt}from"./chunk-YW6MCIL5.js";import"./chunk-VPE76UKK.js";import"./chunk-GSQDRV4R.js";import{b as Bt,c as Ee,d as qt,e as Ve}from"./chunk-X6BUMP3A.js";import{b as Jt}from"./chunk-24OTYQQH.js";import{b as $t,c as Vt,d as zt,e as Ht,f as Lt}from"./chunk-GCRTNX5W.js";import{v as Kt,w as Zt}from"./chunk-XXBXU6LL.js";import{ma as Xt}from"./chunk-LKMVW7YE.js";import{$ as Ct,Aa as wt,Cb as Nt,Db as J,F as H,G as O,Ga as he,Ha as P,I as N,J as De,Ja as Ne,K as Et,Ka as jt,Kc as ye,M as L,N as vt,Na as q,Oa as me,P as St,Q as Rt,Qc as ge,R as It,Ra as Ft,Rc as Ue,Sc as $e,Ta as Pe,U as _e,X as bt,Yc as Ut,Z as At,Za as Mt,_ as de,_b as Pt,a as b,b as T,ba as Tt,da as B,ea as le,ha as fe,i as D,ia as W,ka as R,l as se,la as X,m as z,n as mt,na as d,o as ce,p as yt,pa as l,q as ae,qa as g,ra as xt,s as Me,t as ue,tb as kt,ua as pe,va as _,vb as Dt,w as gt,wa as Ot,wb as _t,x as C,z as ke}from"./chunk-OVOXXI53.js";function Q(e,n){let t=!n?.manualCleanup;t&&!n?.injector&&wt(Q);let r=t?n?.injector?.get(Ne)??g(Ne):null,o=sr(n?.equal),i;n?.requireSync?i=Pe({kind:0},{equal:o}):i=Pe({kind:1,value:n?.initialValue},{equal:o});let s=e.subscribe({next:a=>i.set({kind:1,value:a}),error:a=>{if(n?.rejectErrors)throw a;i.set({kind:2,error:a})}});if(n?.requireSync&&i().kind===0)throw new W(601,!1);return r?.onDestroy(s.unsubscribe.bind(s)),ge(()=>{let a=i();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new W(601,!1)}},{equal:n?.equal})}function sr(e=Object.is){return(n,t)=>n.kind===1&&t.kind===1&&e(n.value,t.value)}var Le={};function te(e,n){if(Le[e]=(Le[e]||0)+1,typeof n=="function")return ze(e,(...r)=>T(b({},n(...r)),{type:e}));switch(n?n._as:"empty"){case"empty":return ze(e,()=>({type:e}));case"props":return ze(e,r=>T(b({},r),{type:e}));default:throw new Error("Unexpected config.")}}function pn(){return{_as:"props",_p:void 0}}function ze(e,n){return Object.defineProperty(n,"type",{value:e,writable:!1})}function cr(e,n){if(e==null)throw new Error(`${n} must be defined.`)}var ne="@ngrx/store/init",M=(()=>{class e extends z{constructor(){super({type:ne})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),ar=[M],hn=new d("@ngrx/store Internal Root Guard"),tn=new d("@ngrx/store Internal Initial State"),re=new d("@ngrx/store Initial State"),mn=new d("@ngrx/store Reducer Factory"),nn=new d("@ngrx/store Internal Reducer Factory Provider"),yn=new d("@ngrx/store Initial Reducers"),He=new d("@ngrx/store Internal Initial Reducers"),Zo=new d("@ngrx/store Store Features"),rn=new d("@ngrx/store Internal Store Reducers"),Yo=new d("@ngrx/store Internal Feature Reducers"),Wo=new d("@ngrx/store Internal Feature Configs"),Xo=new d("@ngrx/store Internal Store Features"),Jo=new d("@ngrx/store Internal Feature Reducers Token"),Qo=new d("@ngrx/store Feature Reducers"),on=new d("@ngrx/store User Provided Meta Reducers"),Se=new d("@ngrx/store Meta Reducers"),sn=new d("@ngrx/store Internal Resolved Meta Reducers"),cn=new d("@ngrx/store User Runtime Checks Config"),an=new d("@ngrx/store Internal User Runtime Checks Config"),ee=new d("@ngrx/store Internal Runtime Checks"),gn=new d("@ngrx/store Check if Action types are unique"),Re=new d("@ngrx/store Root Store Provider"),En=new d("@ngrx/store Feature State Provider");function ur(e,n={}){let t=Object.keys(e),r={};for(let i=0;i<t.length;i++){let s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}let o=Object.keys(r);return function(s,a){s=s===void 0?n:s;let f=!1,c={};for(let y=0;y<o.length;y++){let u=o[y],m=r[u],I=s[u],h=m(I,a);c[u]=h,f=f||h!==I}return f?c:s}}function dr(e,n){return Object.keys(e).filter(t=>t!==n).reduce((t,r)=>Object.assign(t,{[r]:e[r]}),{})}function vn(...e){return function(n){if(e.length===0)return n;let t=e[e.length-1];return e.slice(0,-1).reduceRight((o,i)=>i(o),t(n))}}function Sn(e,n){return Array.isArray(n)&&n.length>0&&(e=vn.apply(null,[...n,e])),(t,r)=>{let o=e(t);return(i,s)=>(i=i===void 0?r:i,o(i,s))}}function lr(e){let n=Array.isArray(e)&&e.length>0?vn(...e):t=>t;return(t,r)=>(t=n(t),(o,i)=>(o=o===void 0?r:o,t(o,i)))}var U=class extends D{},G=class extends M{},Ie="@ngrx/store/update-reducers",Be=(()=>{class e extends z{get currentReducers(){return this.reducers}constructor(t,r,o,i){super(i(o,r)),this.dispatcher=t,this.initialState=r,this.reducers=o,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){let r=t.reduce((o,{reducers:i,reducerFactory:s,metaReducers:a,initialState:f,key:c})=>{let y=typeof i=="function"?lr(a)(i,f):Sn(s,a)(i,f);return o[c]=y,o},{});this.addReducers(r)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(r=>r.key))}addReducer(t,r){this.addReducers({[t]:r})}addReducers(t){this.reducers=b(b({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(r=>{this.reducers=dr(this.reducers,r)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ie,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(r){return new(r||e)(l(G),l(re),l(yn),l(mn))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),fr=[Be,{provide:U,useExisting:Be},{provide:G,useExisting:M}],Z=(()=>{class e extends se{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})()}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),pr=[Z],K=class extends D{},un=(()=>{class e extends z{static{this.INIT=ne}constructor(t,r,o,i){super(i);let a=t.pipe(ae(ce)).pipe(fe(r)),f={state:i},c=a.pipe(de(hr,f));this.stateSubscription=c.subscribe(({state:y,action:u})=>{this.next(y),o.next(u)}),this.state=Q(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(r){return new(r||e)(l(M),l(U),l(Z),l(re))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function hr(e={state:void 0},[n,t]){let{state:r}=e;return{state:t(r,n),action:n}}var mr=[un,{provide:K,useExisting:un}],V=(()=>{class e extends D{constructor(t,r,o,i){super(),this.actionsObserver=r,this.reducerManager=o,this.injector=i,this.source=t,this.state=t.state}select(t,...r){return gr.call(null,t,...r)(this)}selectSignal(t,r){return ge(()=>t(this.state()),r)}lift(t){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=t,r}dispatch(t,r){if(typeof t=="function")return this.processDispatchFn(t,r);this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,r){this.reducerManager.addReducer(t,r)}removeReducer(t){this.reducerManager.removeReducer(t)}processDispatchFn(t,r){cr(this.injector,"Store Injector");let o=r?.injector??Er()??this.injector;return $e(()=>{let i=t();Ue(()=>this.dispatch(i))},{injector:o})}static{this.\u0275fac=function(r){return new(r||e)(l(K),l(M),l(Be),l(P))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),yr=[V];function gr(e,n,...t){return function(o){let i;if(typeof e=="string"){let s=[n,...t].filter(Boolean);i=o.pipe(At(e,...s))}else if(typeof e=="function")i=o.pipe(C(s=>e(s,n)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return i.pipe(Rt())}}function Er(){try{return g(P)}catch{return}}var Ze="https://ngrx.io/guide/store/configuration/runtime-checks";function dn(e){return e===void 0}function ln(e){return e===null}function Rn(e){return Array.isArray(e)}function vr(e){return typeof e=="string"}function Sr(e){return typeof e=="boolean"}function Rr(e){return typeof e=="number"}function In(e){return typeof e=="object"&&e!==null}function Ir(e){return In(e)&&!Rn(e)}function br(e){if(!Ir(e))return!1;let n=Object.getPrototypeOf(e);return n===Object.prototype||n===null}function qe(e){return typeof e=="function"}function Ar(e){return qe(e)&&e.hasOwnProperty("\u0275cmp")}function Cr(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function Tr(e){return e instanceof d?g(e):e}function xr(e){return typeof e=="function"?e():e}function Or(e,n){return e.concat(n)}function wr(){if(g(V,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function jr(e,n){return function(t,r){let o=n.action(r)?Ge(r):r,i=e(t,o);return n.state()?Ge(i):i}}function Ge(e){Object.freeze(e);let n=qe(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&Cr(e,t)&&(!n||t!=="caller"&&t!=="callee"&&t!=="arguments")){let r=e[t];(In(r)||qe(r))&&!Object.isFrozen(r)&&Ge(r)}}),e}function Fr(e,n){return function(t,r){if(n.action(r)){let i=Ke(r);fn(i,"action")}let o=e(t,r);if(n.state()){let i=Ke(o);fn(i,"state")}return o}}function Ke(e,n=[]){return(dn(e)||ln(e))&&n.length===0?{path:["root"],value:e}:Object.keys(e).reduce((r,o)=>{if(r)return r;let i=e[o];return Ar(i)?r:dn(i)||ln(i)||Rr(i)||Sr(i)||vr(i)||Rn(i)?!1:br(i)?Ke(i,[...n,o]):{path:[...n,o],value:i}},!1)}function fn(e,n){if(e===!1)return;let t=e.path.join("."),r=new Error(`Detected unserializable ${n} at "${t}". ${Ze}#strict${n}serializability`);throw r.value=e.value,r.unserializablePath=t,r}function Mr(e,n){return function(t,r){if(n.action(r)&&!q.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Ze}#strictactionwithinngzone`);return e(t,r)}}function kr(e){return ye()?b({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Dr({strictActionSerializability:e,strictStateSerializability:n}){return t=>e||n?Fr(t,{action:r=>e&&!Ye(r),state:()=>n}):t}function _r({strictActionImmutability:e,strictStateImmutability:n}){return t=>e||n?jr(t,{action:r=>e&&!Ye(r),state:()=>n}):t}function Ye(e){return e.type.startsWith("@ngrx")}function Nr({strictActionWithinNgZone:e}){return n=>e?Mr(n,{action:t=>e&&!Ye(t)}):n}function Pr(e){return[{provide:an,useValue:e},{provide:cn,useFactory:$r,deps:[an]},{provide:ee,deps:[cn],useFactory:kr},{provide:Se,multi:!0,deps:[ee],useFactory:_r},{provide:Se,multi:!0,deps:[ee],useFactory:Dr},{provide:Se,multi:!0,deps:[ee],useFactory:Nr}]}function Ur(){return[{provide:gn,multi:!0,deps:[ee],useFactory:Vr}]}function $r(e){return e}function Vr(e){if(!e.strictActionTypeUniqueness)return;let n=Object.entries(Le).filter(([,t])=>t>1).map(([t])=>t);if(n.length)throw new Error(`Action types are registered more than once, ${n.map(t=>`"${t}"`).join(", ")}. ${Ze}#strictactiontypeuniqueness`)}function zr(e={},n={}){return[{provide:hn,useFactory:wr},{provide:tn,useValue:n.initialState},{provide:re,useFactory:xr,deps:[tn]},{provide:He,useValue:e},{provide:rn,useExisting:e instanceof d?e:He},{provide:yn,deps:[He,[new xt(rn)]],useFactory:Tr},{provide:on,useValue:n.metaReducers?n.metaReducers:[]},{provide:sn,deps:[Se,on],useFactory:Or},{provide:nn,useValue:n.reducerFactory?n.reducerFactory:ur},{provide:mn,deps:[nn,sn],useFactory:Sn},ar,fr,pr,mr,yr,Pr(n.runtimeChecks),Ur()]}function Hr(){g(M),g(U),g(Z),g(V),g(hn,{optional:!0}),g(gn,{optional:!0})}var Lr=[{provide:Re,useFactory:Hr},{provide:pe,multi:!0,useFactory(){return()=>g(Re)}}];function bn(e,n){return _([...zr(e,n),Lr])}function We(...e){let n=e.pop(),t=e.map(r=>r.type);return{reducer:n,types:t}}function An(e,...n){let t=new Map;for(let r of n)for(let o of r.types){let i=t.get(o);if(i){let s=(a,f)=>r.reducer(i(a,f),f);t.set(o,s)}else t.set(o,r.reducer)}return function(r=e,o){let i=t.get(o.type);return i?i(r,o):r}}var Tn=te("[Auth] Login Success",pn()),xn=te("[Auth] Logout");var On={isAuthenticated:!1,token:null},wn=An(On,We(Tn,(e,{token:n})=>T(b({},e),{isAuthenticated:!0,token:n})),We(xn,()=>On));var be=class e{constructor(n,t){this.router=n;this.authenticationService=t}canActivate(n,t){return Gt.devBypassAuth||this.authenticationService.userValue?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||e)(l(Ee),l(ve))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};var Xe=[{path:"login",loadComponent:()=>import("./chunk-NAV6GPFN.js").then(e=>e.LoginComponent),title:"Login"},{path:"forgot-password",loadComponent:()=>import("./chunk-QATSDCQG.js").then(e=>e.ForgotPasswordComponent),title:"Forgot Password"},{path:"reset-password",loadComponent:()=>import("./chunk-J5FHIHQT.js").then(e=>e.ResetPasswordComponent),title:"Reset Password"},{path:"",loadComponent:()=>import("./chunk-2JJGQQPM.js").then(e=>e.DefaultLayoutComponent),canActivate:[be],children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-RM2OQFAY.js").then(e=>e.DashComponent),title:"Dashboard"},{path:"vehicles",loadComponent:()=>import("./chunk-NK2JNVFY.js").then(e=>e.VehiclesTableComponent),title:"Vehicles"},{path:"edit-vehicle/:id",loadComponent:()=>import("./chunk-TFMGUCMC.js").then(e=>e.EditVehicleComponent),title:"Edit Vehicle"},{path:"add-vehicle",loadComponent:()=>import("./chunk-TK52XUCH.js").then(e=>e.AddVehicleComponent),title:"Add Vehicle"},{path:"vehicle-registration",loadComponent:()=>import("./chunk-Y3TZJ44C.js").then(e=>e.VehicleRegistrationComponent),title:"Vehicle Registration"},{path:"vehicle-rental-history",loadComponent:()=>import("./chunk-K4FF5CZT.js").then(e=>e.VehicleRentalHistoryComponent),title:"Vehicle Rental History"},{path:"vehicle-maintenance-history",loadComponent:()=>import("./chunk-4W2EHD4V.js").then(e=>e.VehicleMaintenanceHistoryComponent),title:"Vehicle Maintenance History"},{path:"check-out",loadComponent:()=>import("./chunk-GF2CNQZU.js").then(e=>e.CheckOutComponent),title:"Check Out"},{path:"check-in",loadComponent:()=>import("./chunk-7COH55TS.js").then(e=>e.CheckInComponent),title:"Check In"},{path:"users-table",loadComponent:()=>import("./chunk-P7TI6XLQ.js").then(e=>e.UsersTableComponent),title:"Users"},{path:"add-users",loadComponent:()=>import("./chunk-HTTEPOCT.js").then(e=>e.AddUserComponent),title:"Add Users"},{path:"rental-lists",loadComponent:()=>import("./chunk-YRO4OQQU.js").then(e=>e.RentalListsComponent),title:"Rental Lists"},{path:"edit-user",loadComponent:()=>import("./chunk-K2K426YL.js").then(e=>e.EditUserComponent),title:"Edit User"},{path:"user-profile",loadComponent:()=>import("./chunk-Z54PY4UC.js").then(e=>e.UserProfileComponent),title:"User Profile"},{path:"help-page",loadComponent:()=>import("./chunk-6G3FDQMQ.js").then(e=>e.HelpPageComponent),title:"Help Page"},{path:"available-vehicles",loadComponent:()=>import("./chunk-T2YYCZSQ.js").then(e=>e.AvailableVehiclesComponent),title:"Available Vehicles"},{path:"update-prices",loadComponent:()=>import("./chunk-6OVR5XE4.js").then(e=>e.UpdatePricesComponent),title:"Update Prices"},{path:"new-upcoming-rental",loadComponent:()=>import("./chunk-WJLK3UZV.js").then(e=>e.NewUpcomingRentalComponent),title:"New Upcoming Rental"},{path:"internal-checkout",loadComponent:()=>import("./chunk-SRK3JAXR.js").then(e=>e.InternalCheckoutComponent),title:"Internal Checkout"},{path:"manifest-menu",loadComponent:()=>import("./chunk-TWD4OBHU.js").then(e=>e.ManifestMenuComponent),title:"Manifest Menu"},{path:"sm-dashboard",loadComponent:()=>import("./chunk-QFKBHVBR.js").then(e=>e.SmDashboardComponent),title:"SM Dashboard"},{path:"new-maintenance-info",loadComponent:()=>import("./chunk-E22ZAXZN.js").then(e=>e.NewMaintenanceInfoComponent),title:"Maintenance Information"}]},{path:"**",redirectTo:"dashboard"}],jn=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=J({type:e});static \u0275inj=X({imports:[Ve.forRoot(Xe,{onSameUrlNavigation:"reload"}),Ve]})};var Je="__@ngrx/effects_create__";function Gr(e){return Object.getOwnPropertyNames(e).filter(r=>e[r]&&e[r].hasOwnProperty(Je)?e[r][Je].hasOwnProperty("dispatch"):!1).map(r=>{let o=e[r][Je];return b({propertyName:r},o)})}function Kr(e){return Gr(e)}function Fn(e){return Object.getPrototypeOf(e)}function Zr(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function Mn(e){return typeof e=="function"}function Yr(e){return e.filter(Mn)}function Wr(e,n,t){let r=Fn(e),i=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=Kr(e).map(({propertyName:a,dispatch:f,useEffectsErrorHandler:c})=>{let y=typeof e[a]=="function"?e[a]():e[a],u=c?t(y,n):y;return f===!1?u.pipe(vt()):u.pipe(bt()).pipe(C(I=>({effect:e[a],notification:I,propertyName:a,sourceName:i,sourceInstance:e})))});return H(...s)}var Xr=10;function kn(e,n,t=Xr){return e.pipe(N(r=>(n&&n.handleError(r),t<=1?e:kn(e,n,t-1))))}var Ci=new d("@ngrx/effects Internal Root Guard"),Ti=new d("@ngrx/effects User Provided Effects"),xi=new d("@ngrx/effects Internal Root Effects"),Oi=new d("@ngrx/effects Internal Root Effects Instances"),wi=new d("@ngrx/effects Internal Feature Effects"),ji=new d("@ngrx/effects Internal Feature Effects Instance Groups"),Jr=new d("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>kn}),Qr="@ngrx/effects/init",eo=te(Qr);function to(e,n){if(e.notification.kind==="N"){let t=e.notification.value;!no(t)&&n.handleError(new Error(`Effect ${ro(e)} dispatched an invalid action: ${oo(t)}`))}}function no(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function ro({propertyName:e,sourceInstance:n,sourceName:t}){let r=typeof n[e]=="function";return!!t?`"${t}.${String(e)}${r?"()":""}"`:`"${String(e)}()"`}function oo(e){try{return JSON.stringify(e)}catch{return e}}var io="ngrxOnIdentifyEffects";function so(e){return Qe(e,io)}var co="ngrxOnRunEffects";function ao(e){return Qe(e,co)}var uo="ngrxOnInitEffects";function lo(e){return Qe(e,uo)}function Qe(e,n){return e&&n in e&&typeof e[n]=="function"}var Dn=(()=>{class e extends se{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(_e(t=>Zr(t)?Fn(t):t),ke(t=>t.pipe(_e(fo))),ke(t=>{let r=t.pipe(It(i=>po(this.errorHandler,this.effectsErrorHandler)(i)),C(i=>(to(i,this.errorHandler),i.notification)),O(i=>i.kind==="N"&&i.value!=null),St()),o=t.pipe(L(1),O(lo),C(i=>i.ngrxOnInitEffects()));return H(r,o)}))}static{this.\u0275fac=function(r){return new(r||e)(l(me),l(Jr))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fo(e){return so(e)?e.ngrxOnIdentifyEffects():""}function po(e,n){return t=>{let r=Wr(t,e,n);return ao(t)?t.ngrxOnRunEffects(r):r}}var ho=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(r){return new(r||e)(l(Dn),l(V))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _n(...e){let n=e.flat(),t=Yr(n);return _([t,{provide:pe,multi:!0,useValue:()=>{g(Re),g(En,{optional:!0});let r=g(ho),o=g(Dn),i=!r.isStarted;i&&r.start();for(let s of n){let a=Mn(s)?g(s):s;o.addEffects(a)}i&&g(V).dispatch(eo())}}])}var ie="PERFORM_ACTION",mo="REFRESH",zn="RESET",Hn="ROLLBACK",Ln="COMMIT",Bn="SWEEP",qn="TOGGLE_ACTION",yo="SET_ACTIONS_ACTIVE",Gn="JUMP_TO_STATE",Kn="JUMP_TO_ACTION",ft="IMPORT_STATE",Zn="LOCK_CHANGES",Yn="PAUSE_RECORDING",Y=class{constructor(n,t){if(this.action=n,this.timestamp=t,this.type=ie,typeof n.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},et=class{constructor(){this.type=mo}},tt=class{constructor(n){this.timestamp=n,this.type=zn}},nt=class{constructor(n){this.timestamp=n,this.type=Hn}},rt=class{constructor(n){this.timestamp=n,this.type=Ln}},ot=class{constructor(){this.type=Bn}},it=class{constructor(n){this.id=n,this.type=qn}};var st=class{constructor(n){this.index=n,this.type=Gn}},ct=class{constructor(n){this.actionId=n,this.type=Kn}},at=class{constructor(n){this.nextLiftedState=n,this.type=ft}},ut=class{constructor(n){this.status=n,this.type=Zn}},dt=class{constructor(n){this.status=n,this.type=Yn}};var xe=new d("@ngrx/store-devtools Options"),Nn=new d("@ngrx/store-devtools Initial Config");function Wn(){return null}var go="NgRx Store DevTools";function Eo(e){let n={maxAge:!1,monitor:Wn,actionSanitizer:void 0,stateSanitizer:void 0,name:go,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t=typeof e=="function"?e():e,r=t.logOnly?{pause:!0,export:!0,test:!0}:!1,o=t.features||r||n.features;o.import===!0&&(o.import="custom");let i=Object.assign({},n,{features:o},t);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}function Pn(e,n){return e.filter(t=>n.indexOf(t)<0)}function Xn(e){let{computedStates:n,currentStateIndex:t}=e;if(t>=n.length){let{state:o}=n[n.length-1];return o}let{state:r}=n[t];return r}function oe(e){return new Y(e,+Date.now())}function vo(e,n){return Object.keys(n).reduce((t,r)=>{let o=Number(r);return t[o]=Jn(e,n[o],o),t},{})}function Jn(e,n,t){return T(b({},n),{action:e(n.action,t)})}function So(e,n){return n.map((t,r)=>({state:Qn(e,t.state,r),error:t.error}))}function Qn(e,n,t){return e(n,t)}function er(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function Ro(e,n,t,r){let o=[],i={},s=[];return e.stagedActionIds.forEach((a,f)=>{let c=e.actionsById[a];c&&(f&&pt(e.computedStates[f],c,n,t,r)||(i[a]=c,o.push(a),s.push(e.computedStates[f])))}),T(b({},e),{stagedActionIds:o,actionsById:i,computedStates:s})}function pt(e,n,t,r,o){let i=t&&!t(e,n.action),s=r&&!n.action.type.match(r.map(f=>Un(f)).join("|")),a=o&&n.action.type.match(o.map(f=>Un(f)).join("|"));return i||s||a}function Un(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function tr(e){return{ngZone:e?g(q):null,connectInZone:e}}var Oe=(()=>{class e extends M{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=he(e)))(o||e)}})()}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Ae={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},lt=new d("@ngrx/store-devtools Redux Devtools Extension"),nr=(()=>{class e{constructor(t,r,o){this.config=r,this.dispatcher=o,this.zoneConfig=tr(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,r){if(this.devtoolsExtension)if(t.type===ie){if(r.isLocked||r.isPaused)return;let o=Xn(r);if(er(this.config)&&pt(o,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let i=this.config.stateSanitizer?Qn(this.config.stateSanitizer,o,r.currentStateIndex):o,s=this.config.actionSanitizer?Jn(this.config.actionSanitizer,t,r.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,i))}else{let o=T(b({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?vo(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?So(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new D(t=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(o=>t.next(o)),r.unsubscribe}):yt}createActionStreams(){let t=this.createChangesObservable().pipe(Ct()),r=t.pipe(O(c=>c.type===Ae.START)),o=t.pipe(O(c=>c.type===Ae.STOP)),i=t.pipe(O(c=>c.type===Ae.DISPATCH),C(c=>this.unwrapAction(c.payload)),De(c=>c.type===ft?this.dispatcher.pipe(O(y=>y.type===Ie),gt(1e3),Et(1e3),C(()=>c),N(()=>Me(c)),L(1)):Me(c))),a=t.pipe(O(c=>c.type===Ae.ACTION),C(c=>this.unwrapAction(c.payload))).pipe(le(o)),f=i.pipe(le(o));this.start$=r.pipe(le(o)),this.actions$=this.start$.pipe(B(()=>a)),this.liftedActions$=this.start$.pipe(B(()=>f))}unwrapAction(t){return typeof t=="string"?(0,eval)(`(${t})`):t}getExtensionConfig(t){let r={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return t.maxAge!==!1&&(r.maxAge=t.maxAge),r}sendToReduxDevtools(t){try{t()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}static{this.\u0275fac=function(r){return new(r||e)(l(lt),l(xe),l(Oe))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})(),Te={type:ne},Io="@ngrx/store-devtools/recompute",bo={type:Io};function rr(e,n,t,r,o){if(r)return{state:t,error:"Interrupted by an error up the chain"};let i=t,s;try{i=e(t,n)}catch(a){s=a.toString(),o.handleError(a)}return{state:i,error:s}}function Ce(e,n,t,r,o,i,s,a,f){if(n>=e.length&&e.length===i.length)return e;let c=e.slice(0,n),y=i.length-(f?1:0);for(let u=n;u<y;u++){let m=i[u],I=o[m].action,h=c[u-1],p=h?h.state:r,w=h?h.error:void 0,j=s.indexOf(m)>-1?h:rr(t,I,p,w,a);c.push(j)}return f&&c.push(e[e.length-1]),c}function Ao(e,n){return{monitorState:n(void 0,{}),nextActionId:1,actionsById:{0:oe(Te)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Co(e,n,t,r,o={}){return i=>(s,a)=>{let{monitorState:f,actionsById:c,nextActionId:y,stagedActionIds:u,skippedActionIds:m,committedState:I,currentStateIndex:h,computedStates:p,isLocked:w,isPaused:A}=s||n;s||(c=Object.create(c));function j(S){let v=S,k=u.slice(1,v+1);for(let x=0;x<k.length;x++)if(p[x+1].error){v=x,k=u.slice(1,v+1);break}else delete c[k[x]];m=m.filter(x=>k.indexOf(x)===-1),u=[0,...u.slice(v+1)],I=p[v].state,p=p.slice(v),h=h>v?h-v:0}function F(){c={0:oe(Te)},y=1,u=[0],m=[],I=p[h].state,h=0,p=[]}let E=0;switch(a.type){case Zn:{w=a.status,E=1/0;break}case Yn:{A=a.status,A?(u=[...u,y],c[y]=new Y({type:"@ngrx/devtools/pause"},+Date.now()),y++,E=u.length-1,p=p.concat(p[p.length-1]),h===u.length-2&&h++,E=1/0):F();break}case zn:{c={0:oe(Te)},y=1,u=[0],m=[],I=e,h=0,p=[];break}case Ln:{F();break}case Hn:{c={0:oe(Te)},y=1,u=[0],m=[],h=0,p=[];break}case qn:{let{id:S}=a;m.indexOf(S)===-1?m=[S,...m]:m=m.filter(k=>k!==S),E=u.indexOf(S);break}case yo:{let{start:S,end:v,active:k}=a,x=[];for(let Fe=S;Fe<v;Fe++)x.push(Fe);k?m=Pn(m,x):m=[...m,...x],E=u.indexOf(S);break}case Gn:{h=a.index,E=1/0;break}case Kn:{let S=u.indexOf(a.actionId);S!==-1&&(h=S),E=1/0;break}case Bn:{u=Pn(u,m),m=[],h=Math.min(h,u.length-1);break}case ie:{if(w)return s||n;if(A||s&&pt(s.computedStates[h],a,o.predicate,o.actionsSafelist,o.actionsBlocklist)){let v=p[p.length-1];p=[...p.slice(0,-1),rr(i,a.action,v.state,v.error,t)],E=1/0;break}o.maxAge&&u.length===o.maxAge&&j(1),h===u.length-1&&h++;let S=y++;c[S]=a,u=[...u,S],E=u.length-1;break}case ft:{({monitorState:f,actionsById:c,nextActionId:y,stagedActionIds:u,skippedActionIds:m,committedState:I,currentStateIndex:h,computedStates:p,isLocked:w,isPaused:A}=a.nextLiftedState);break}case ne:{E=0,o.maxAge&&u.length>o.maxAge&&(p=Ce(p,E,i,I,c,u,m,t,A),j(u.length-o.maxAge),E=1/0);break}case Ie:{if(p.filter(v=>v.error).length>0)E=0,o.maxAge&&u.length>o.maxAge&&(p=Ce(p,E,i,I,c,u,m,t,A),j(u.length-o.maxAge),E=1/0);else{if(!A&&!w){h===u.length-1&&h++;let v=y++;c[v]=new Y(a,+Date.now()),u=[...u,v],E=u.length-1,p=Ce(p,E,i,I,c,u,m,t,A)}p=p.map(v=>T(b({},v),{state:i(v.state,bo)})),h=u.length-1,o.maxAge&&u.length>o.maxAge&&j(u.length-o.maxAge),E=1/0}break}default:{E=1/0;break}}return p=Ce(p,E,i,I,c,u,m,t,A),f=r(f,a),{monitorState:f,actionsById:c,nextActionId:y,stagedActionIds:u,skippedActionIds:m,committedState:I,currentStateIndex:h,computedStates:p,isLocked:w,isPaused:A}}}var $n=(()=>{class e{constructor(t,r,o,i,s,a,f,c){let y=Ao(f,c.monitor),u=Co(f,y,a,c.monitor,c),m=H(H(r.asObservable().pipe(Tt(1)),i.actions$).pipe(C(oe)),t,i.liftedActions$).pipe(ae(ce)),I=o.pipe(C(u)),h=tr(c.connectInZone),p=new mt(1);this.liftedStateSubscription=m.pipe(fe(I),Vn(h),de(({state:j},[F,E])=>{let S=E(j,F);return F.type!==ie&&er(c)&&(S=Ro(S,c.predicate,c.actionsSafelist,c.actionsBlocklist)),i.notify(F,S),{state:S,action:F}},{state:y,action:null})).subscribe(({state:j,action:F})=>{if(p.next(j),F.type===ie){let E=F.action;s.next(E)}}),this.extensionStartSubscription=i.start$.pipe(Vn(h)).subscribe(()=>{this.refresh()});let w=p.asObservable(),A=w.pipe(C(Xn));Object.defineProperty(A,"state",{value:Q(A,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=w,this.state=A}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new Y(t,+Date.now()))}refresh(){this.dispatch(new et)}reset(){this.dispatch(new tt(+Date.now()))}rollback(){this.dispatch(new nt(+Date.now()))}commit(){this.dispatch(new rt(+Date.now()))}sweep(){this.dispatch(new ot)}toggleAction(t){this.dispatch(new it(t))}jumpToAction(t){this.dispatch(new ct(t))}jumpToState(t){this.dispatch(new st(t))}importState(t){this.dispatch(new at(t))}lockChanges(t){this.dispatch(new ut(t))}pauseRecording(t){this.dispatch(new dt(t))}static{this.\u0275fac=function(r){return new(r||e)(l(Oe),l(M),l(U),l(nr),l(Z),l(me),l(re),l(xe))}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac})}}return e})();function Vn({ngZone:e,connectInZone:n}){return t=>n?new D(r=>t.subscribe({next:o=>e.run(()=>r.next(o)),error:o=>e.run(()=>r.error(o)),complete:()=>e.run(()=>r.complete())})):t}var To=new d("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function xo(e,n){return!!e||n.monitor!==Wn}function Oo(){let e="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[e]<"u"?window[e]:null}function wo(e){return e.state}function or(e={}){return _([nr,Oe,$n,{provide:Nn,useValue:e},{provide:To,deps:[lt,xe],useFactory:xo},{provide:lt,useFactory:Oo},{provide:xe,deps:[Nn],useFactory:Eo},{provide:K,deps:[$n],useFactory:wo},{provide:G,useExisting:Oe}])}var jo="@",Fo=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=g(P);loadingSchedulerFn=g(Mo,{optional:!0});_engine;constructor(t,r,o,i,s){this.doc=t,this.delegate=r,this.zone=o,this.animationType=i,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-XEHSWA2N.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(o=>{throw new W(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:i})=>{this._engine=o(this.animationType,this.doc);let s=new i(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let i=new ht(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,r);i.use(a),this.scheduler??=this.injector.get(jt,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{i.use(o)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){_t()};static \u0275prov=R({token:e,factory:e.\u0275fac})}return e})(),ht=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let t of this.replay)t(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,t){this.delegate.appendChild(n,t)}insertBefore(n,t,r,o){this.delegate.insertBefore(n,t,r,o)}removeChild(n,t,r){this.delegate.removeChild(n,t,r)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,o){this.delegate.setAttribute(n,t,r,o)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,o){this.delegate.setStyle(n,t,r,o)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(n,t,r)),this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r,o){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(n,t,r,o)),this.delegate.listen(n,t,r,o)}shouldReplay(n){return this.replay!==null&&n.startsWith(jo)}},Mo=new d("");function ir(e="animations"){return Ft("NgAsyncAnimations"),_([{provide:kt,useFactory:(n,t,r)=>new Fo(n,t,r,e),deps:[Ut,Ht,q]},{provide:Mt,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var we=class e{constructor(n){this.router=n}title="frontend";static \u0275fac=function(t){return new(t||e)(Dt(Ee))};static \u0275cmp=Nt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Pt(0,"router-outlet")},dependencies:[Bt,Qt,en],encapsulation:2})};var je=class e{constructor(n){this.authenticationService=n}isRefreshing=!1;refreshTokenSubject=new z(null);intercept(n,t){let r=this.authenticationService.getAccessToken(),o=n;return r&&(o=this.addTokenHeader(n,r)),t.handle(o).pipe(N(i=>i.status===401&&!o.url.includes("/authentication/refresh")?this.handle401Error(o,t):ue(()=>i)))}addTokenHeader(n,t){return n.clone({setHeaders:{Authorization:`Bearer ${t}`}})}handle401Error(n,t){return this.isRefreshing?this.refreshTokenSubject.pipe(O(r=>r!=null),L(1),B(r=>t.handle(this.addTokenHeader(n,r)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authenticationService.refreshToken().pipe(B(r=>{this.isRefreshing=!1;let o=r?.accessToken;return o?(this.authenticationService.setAccessToken(o),this.refreshTokenSubject.next(o),t.handle(this.addTokenHeader(n,o))):(this.authenticationService.logout(),ue(()=>new Error("No token returned")))}),N(r=>(this.isRefreshing=!1,this.authenticationService.logout(),ue(()=>r)))))}static \u0275fac=function(t){return new(t||e)(l(ve))};static \u0275prov=R({token:e,factory:e.\u0275fac})};Lt(we,{providers:[bn({auth:wn}),Ot(Kt,Zt,Yt,Wt,Xt,Jt),Vt(zt()),{provide:$t,useClass:je,multi:!0},qt(Xe),_n(),or({maxAge:25,logOnly:!ye()}),ir()]}).catch(e=>console.error(e));
