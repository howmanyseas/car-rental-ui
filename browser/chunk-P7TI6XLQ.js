import{a as F}from"./chunk-NKWKUKJX.js";import{a as ee,b as te,c as h,d as ne,e as ie}from"./chunk-YGENP3TF.js";import{a as C,b as q,c as A,d as B,e as L,f as G,g as J,h as K,i as W,j as X,k as Y,l as Z}from"./chunk-6CCPTPZT.js";import"./chunk-I2XLL75Z.js";import"./chunk-YW6MCIL5.js";import"./chunk-BEZHQCNN.js";import"./chunk-OBZFBI5J.js";import"./chunk-VPE76UKK.js";import"./chunk-GSQDRV4R.js";import{c as V}from"./chunk-X6BUMP3A.js";import{a as $,b as z}from"./chunk-24OTYQQH.js";import{a as H}from"./chunk-GCRTNX5W.js";import"./chunk-XXBXU6LL.js";import{ja as j,la as N,ma as Q}from"./chunk-LKMVW7YE.js";import{$b as c,Ca as M,Cb as E,Da as w,Ib as m,Pb as f,Yb as i,Zb as r,_b as S,ac as d,cc as T,ed as k,fc as u,g as U,hc as y,ka as O,lc as b,mc as _,nc as g,pa as P,pb as s,pd as R,rc as o,sc as p,tc as I,uc as D,vb as v}from"./chunk-OVOXXI53.js";var x=class e{constructor(t){this.http=t}getUsers(){return this.http.get(`${F.apiUrl}/user`)}static \u0275fac=function(n){return new(n||e)(P(H))};static \u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"})};function se(e,t){e&1&&(i(0,"th",17),o(1,"First Name"),r())}function me(e,t){if(e&1&&(i(0,"td",18),o(1),r()),e&2){let n=t.$implicit;s(),p(n.firstname)}}function ce(e,t){e&1&&(i(0,"th",17),o(1,"Last Name"),r())}function de(e,t){if(e&1&&(i(0,"td",18),o(1),r()),e&2){let n=t.$implicit;s(),p(n.lastname)}}function pe(e,t){e&1&&(i(0,"th",17),o(1,"Email"),r())}function fe(e,t){if(e&1&&(i(0,"td",18),o(1),r()),e&2){let n=t.$implicit;s(),p(n.email)}}function ue(e,t){e&1&&(i(0,"th",17),o(1,"Roles"),r())}function be(e,t){if(e&1&&(i(0,"td",18),o(1),r()),e&2){let n=t.$implicit;s(),p(n.roles)}}function _e(e,t){e&1&&(i(0,"th",19),o(1,"Actions"),r())}function ge(e,t){if(e&1){let n=T();i(0,"td",18)(1,"button",20),u("click",function(){M(n);let l=y();return w(l.editUser())}),i(2,"mat-icon"),o(3,"edit"),r()()()}}function Ce(e,t){e&1&&S(0,"tr",21)}function he(e,t){e&1&&S(0,"tr",22)}function xe(e,t){if(e&1){let n=T();i(0,"div",23)(1,"div",24)(2,"div",25)(3,"h3"),o(4),r(),i(5,"p",26),o(6),r()(),i(7,"p"),o(8),r(),i(9,"button",27),u("click",function(){M(n);let l=y();return w(l.editUser())}),i(10,"mat-icon"),o(11,"edit"),r()()()()}if(e&2){let n=t.$implicit;s(4),D("",n.firstname," ",n.lastname,""),s(2),p(n.roles),s(2),I("Email: ",n.email,"")}}var re=class e{constructor(t,n){this.router=t;this.userService=n;this.users$=this.userService.getUsers()}users$;errorMessage="";users=[];subscription=new U;ngOnInit(){this.subscription.add(this.userService.getUsers().subscribe({next:t=>{this.users=t,this.dataSource.data=this.users},error:t=>{this.errorMessage="Error fetching users",console.error(t)}}))}editUser(){this.router.navigate(["/edit-user"])}paginator;sort;table;dataSource=new Z;displayedColumns=["firstname","lastname","email","roles","actions"];gotoNewUser(){this.router.navigate(["/add-users"])}applyFilter(t){let n=t.target.value;this.dataSource.filter=n.trim().toLowerCase()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.table.dataSource=this.dataSource}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)(v(V),v(x))};static \u0275cmp=E({type:e,selectors:[["app-users-table"]],viewQuery:function(n,a){if(n&1&&(b(ee,5),b(h,5),b(C,5)),n&2){let l;_(l=g())&&(a.paginator=l.first),_(l=g())&&(a.sort=l.first),_(l=g())&&(a.table=l.first)}},decls:26,vars:4,consts:[[1,"title"],["matInput","","placeholder","Search users",1,"search-input",3,"input"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8","desktop-table",3,"dataSource"],["matColumnDef","firstname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastname"],["matColumnDef","email"],["matColumnDef","roles"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mobile-cards",4,"ngFor","ngForOf"],[1,"buttons-container"],["mat-raised-button","","color","accent",1,"new-user-btn",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mobile-cards"],[1,"card"],[1,"card-header"],[1,"roles"],["mat-icon-button","","color","accent",1,"edit-btn",3,"click"]],template:function(n,a){n&1&&(i(0,"h2",0),o(1,"Users"),r(),i(2,"input",1),u("input",function(oe){return a.applyFilter(oe)}),r(),i(3,"div",2)(4,"table",3),c(5,4),m(6,se,2,0,"th",5)(7,me,2,1,"td",6),d(),c(8,7),m(9,ce,2,0,"th",5)(10,de,2,1,"td",6),d(),c(11,8),m(12,pe,2,0,"th",5)(13,fe,2,1,"td",6),d(),c(14,9),m(15,ue,2,0,"th",5)(16,be,2,1,"td",6),d(),c(17,10),m(18,_e,2,0,"th",11)(19,ge,4,0,"td",6),d(),m(20,Ce,1,0,"tr",12)(21,he,1,0,"tr",13),r(),m(22,xe,12,4,"div",14),r(),i(23,"div",15)(24,"button",16),u("click",function(){return a.gotoNewUser()}),o(25," New User "),r()()),n&2&&(s(4),f("dataSource",a.dataSource),s(16),f("matHeaderRowDef",a.displayedColumns),s(),f("matRowDefColumns",a.displayedColumns),s(),f("ngForOf",a.dataSource.filteredData))},dependencies:[Y,C,A,J,B,q,K,L,G,W,X,te,ie,h,ne,Q,j,N,z,$,R,k],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;padding:16px;border-radius:10px;background:var(--color-gradient-opaque);border:1px solid white}[_nghost-%COMP%]{display:block;margin:30px}h2.title[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:50px;font-family:Inter}table[_ngcontent-%COMP%]{width:100%;background:transparent;color:#fff}th[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-family:Inter}td[_ngcontent-%COMP%]{padding:12px;color:#fff}.title[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{color:#fff;font-size:22px;font-weight:700;margin-bottom:16px}.full-width[_ngcontent-%COMP%]{width:100%}mat-grid-list[_ngcontent-%COMP%]{width:100%}.mat-icon[_ngcontent-%COMP%]{color:#ffca28}.buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:flex-end;gap:10px}button[_ngcontent-%COMP%]{color:#fff}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.search-input[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box;padding:10px;margin-bottom:20px;border-radius:5px;border:1px solid #ffffff;background-color:#000;color:#fff;display:block}.buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:30px}.new-user-btn[_ngcontent-%COMP%]{margin-top:20px;background-color:var(--button-1)!important;color:#fff!important;font-weight:700;font-family:Inter;border-radius:10px}.mobile-cards[_ngcontent-%COMP%]{display:none}button[_ngcontent-%COMP%]{font-weight:700;text-transform:none}@media (max-width: 768px){.desktop-table[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]{margin:10px}.mobile-cards[_ngcontent-%COMP%]{display:block}.card[_ngcontent-%COMP%]{background-color:#2d2d2d;margin:10px 0;padding:15px;border-radius:8px;box-shadow:0 4px 10px #0000004d;color:#fff;font-family:Inter}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.role[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;color:#d3d3d3}.edit-btn[_ngcontent-%COMP%]{margin-top:10px}.buttons-container[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.new-user-btn[_ngcontent-%COMP%]{width:100%;margin:0;padding:10px;border-radius:8px}}"]})};export{re as UsersTableComponent};
