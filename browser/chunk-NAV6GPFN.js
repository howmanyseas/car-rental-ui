import{a as pt}from"./chunk-4K4IJ45B.js";import"./chunk-NKWKUKJX.js";import{a as jt,b as Lt}from"./chunk-DGTE5YDS.js";import{b as Dt,c as Tt}from"./chunk-M6W3NZ6F.js";import{a as It,c as Rt,f as Et,g as Pt}from"./chunk-YW6MCIL5.js";import{a as At,g as Bt}from"./chunk-S6W4PYVY.js";import{a as Gt,e as Ht}from"./chunk-BEZHQCNN.js";import{a as H,b as Vt,c as qt,e as U}from"./chunk-OBZFBI5J.js";import"./chunk-VPE76UKK.js";import"./chunk-GSQDRV4R.js";import{a as dt,c as mt}from"./chunk-X6BUMP3A.js";import{a as Nt,b as zt}from"./chunk-24OTYQQH.js";import"./chunk-GCRTNX5W.js";import{b as ut,d as B,g as ft,h as ht,m as _t,p as gt,s as bt,t as vt,u as kt,w as xt}from"./chunk-XXBXU6LL.js";import{G as Mt,K as wt,a as yt,ja as I,la as Ft,ma as G,u as St,v as Ct}from"./chunk-LKMVW7YE.js";import{Bd as O,Ca as K,Cb as y,Cd as V,Da as X,Eb as w,Ed as q,G as Q,Gb as et,Ha as M,Ib as P,Lc as st,Na as $,Ob as A,Pb as D,Qa as Y,T as W,Ta as J,Ub as nt,Yb as l,Yc as ct,Zb as c,_b as g,a as m,b as x,cc as it,ea as Z,ec as at,fc as b,gc as ot,hc as T,ka as C,l as f,lc as F,mc as j,na as E,nc as L,pb as p,pd as lt,qa as s,rb as tt,rc as u,sc as rt,tc as N,vb as _,xd as Ot,yd as z}from"./chunk-OVOXXI53.js";function $t(i,a){if(i&1){let t=it();l(0,"div",1)(1,"button",2),b("click",function(){K(t);let n=T();return X(n.action())}),u(2),c()()}if(i&2){let t=T();p(2),N(" ",t.data.action," ")}}var Yt=["label"];function Jt(i,a){}var te=Math.pow(2,31)-1,S=class{_overlayRef;instance;containerInstance;_afterDismissed=new f;_afterOpened=new f;_onAction=new f;_durationTimeoutId;_dismissedByAction=!1;constructor(a,t){this._overlayRef=t,this.containerInstance=a,a._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(a){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(a,te))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Qt=new E("MatSnackBarData"),v=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},ee=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=w({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),ne=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=w({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),ie=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275dir=w({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),ae=(()=>{class i{snackBarRef=s(S);data=s(Qt);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(l(0,"div",0),u(1),c(),P(2,$t,3,1,"div",1)),e&2&&(p(),N(" ",n.data.message,`
`),p(),nt(n.hasAction?2:-1))},dependencies:[I,ee,ne,ie],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return i})(),oe={snackBarState:Ot("state",[V("void, hidden",O({transform:"scale(0.8)",opacity:0})),V("visible",O({transform:"scale(1)",opacity:1})),q("* => visible",z("150ms cubic-bezier(0, 0, 0.2, 1)")),q("* => void, * => hidden",z("75ms cubic-bezier(0.4, 0.0, 1, 1)",O({opacity:0})))])},re=(()=>{class i extends qt{_ngZone=s($);_elementRef=s(Y);_changeDetectorRef=s(st);_platform=s(yt);snackBarConfig=s(v);_document=s(ct);_trackedModals=new Set;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new f;_onExit=new f;_onEnter=new f;_animationState="void";_live;_label;_role;_liveElementId=s(wt).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}attachDomPortal=t=>{this._assertNotAttached();let e=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),e};onAnimationEnd(t){let{fromState:e,toState:n}=t;if((n==="void"&&e!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(r=>t.classList.add(r)):t.classList.add(e)),this._exposeToModals();let n=this._label.nativeElement,o="mdc-snackbar__label";n.classList.toggle(o,!n.querySelector(`.${o}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let o=e[n],r=o.getAttribute("aria-owns");this._trackedModals.add(o),r?r.indexOf(t)===-1&&o.setAttribute("aria-owns",r+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let n=e.replace(this._liveElementId,"").trim();n.length>0?t.setAttribute("aria-owns",n):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),n?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(e&1&&(F(U,7),F(Yt,7)),e&2){let o;j(o=L())&&(n._portalOutlet=o.first),j(o=L())&&(n._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(e,n){e&1&&ot("@state.done",function(r){return n.onAnimationEnd(r)}),e&2&&at("@state",n._animationState)},features:[et],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(l(0,"div",1)(1,"div",2,0)(3,"div",3),P(4,Jt,0,0,"ng-template",4),c(),g(5,"div"),c()()),e&2&&(p(5),A("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[U],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[oe.snackBarState]}})}return i})();function se(){return new v}var ce=new E("mat-snack-bar-default-options",{providedIn:"root",factory:se}),Wt=(()=>{class i{_overlay=s(Ht);_live=s(Mt);_injector=s(M);_breakpointObserver=s(St);_parentSnackBar=s(i,{optional:!0,skipSelf:!0});_defaultConfig=s(ce);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=ae;snackBarContainerComponent=re;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){let o=m(m({},this._defaultConfig),n);return o.data={message:t,action:e},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=M.create({parent:n||this._injector,providers:[{provide:v,useValue:e}]}),r=new H(this.snackBarContainerComponent,e.viewContainerRef,o),d=t.attach(r);return d.instance.snackBarConfig=e,d.instance}_attach(t,e){let n=m(m(m({},new v),this._defaultConfig),e),o=this._createOverlay(n),r=this._attachSnackBarContainer(o,n),d=new S(r,o);if(t instanceof tt){let k=new Vt(t,null,{$implicit:n.data,snackBarRef:d});d.instance=r.attachTemplatePortal(k)}else{let k=this._createInjector(n,d),Kt=new H(t,void 0,k),Xt=r.attachComponentPortal(Kt);d.instance=Xt.instance}return this._breakpointObserver.observe(Ct.HandsetPortrait).pipe(Z(o.detachments())).subscribe(k=>{o.overlayElement.classList.toggle(this.handsetCssClass,k.matches)}),n.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(d,n),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){let e=new Gt;e.direction=t.direction;let n=this._overlay.position().global(),o=t.direction==="rtl",r=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!o||t.horizontalPosition==="end"&&o,d=!r&&t.horizontalPosition!=="center";return r?n.left("0"):d?n.right("0"):n.centerHorizontally(),t.verticalPosition==="top"?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return M.create({parent:n||this._injector,providers:[{provide:S,useValue:e},{provide:Qt,useValue:t.data}]})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var h=class{id;type;message;autoClose;keepAfterRouteChange;fade;constructor(a){Object.assign(this,a)}};var R=class i{subject=new f;defaultId="default-alert";onAlert(a=this.defaultId){return this.subject.asObservable().pipe(Q(t=>t&&t.id===a))}success(a,t){this.alert(new h(x(m({},t),{type:0,message:a})))}error(a,t){this.alert(new h(x(m({},t),{type:1,message:a})))}info(a,t){this.alert(new h(x(m({},t),{type:2,message:a})))}warn(a,t){this.alert(new h(x(m({},t),{type:3,message:a})))}alert(a){a.id=a.id||this.defaultId,this.subject.next(a)}clear(a=this.defaultId){this.subject.next(new h({id:a}))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};var Zt=class i{constructor(a,t,e,n,o,r){this.fb=a;this.router=t;this._snackBar=e;this.route=n;this.authenticationService=o;this.alertService=r;this.loginForm=this.fb.group({email:["",[B.required,B.email]],password:["",B.required]})}loginForm;hide=J(!0);isLoading=!1;loading=!1;submitted=!1;hideRequiredControl;onSubmit(){this.isLoading=!0,this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authenticationService.login(this.loginForm.controls.email.value,this.loginForm.controls.password.value).pipe(W()).subscribe({next:()=>{let a=this.route.snapshot.queryParams.returnUrl||"/";this.router.navigateByUrl(a),this.isLoading=!1},error:a=>{this.alertService.error(a),this.loading=!1,this.isLoading=!1,this._snackBar.open("Login nicht erfolreich","Schlie\xDFen",{duration:5e3})}}))}login(){this.router.navigate(["/dashboard"])}togglePassword(a){this.hide.set(!this.hide()),a.stopPropagation()}goToForgotPassword(){this.router.navigate(["/forgot-password"])}static \u0275fac=function(t){return new(t||i)(_(kt),_(mt),_(Wt),_(dt),_(pt),_(R))};static \u0275cmp=y({type:i,selectors:[["app-login"]],decls:24,vars:5,consts:[[1,"header"],[1,"logo-container"],["src","assets/logo.png","alt","ATMAX Logo",1,"logo"],[1,"right-gradient"],[1,"login-wrapper"],[1,"login-container"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","email","type","email","required",""],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"login-btn"],[1,"forgot-password",3,"click"]],template:function(t,e){t&1&&(l(0,"mat-toolbar",0)(1,"div",1),g(2,"img",2),c(),g(3,"div",3),c(),l(4,"div",4)(5,"mat-card",5)(6,"h2"),u(7,"LOG IN"),c(),l(8,"form",6),b("ngSubmit",function(){return e.onSubmit()}),l(9,"mat-form-field",7)(10,"mat-label"),u(11,"Enter your email"),c(),g(12,"input",8),c(),l(13,"mat-form-field",7)(14,"mat-label"),u(15,"Enter your password"),c(),g(16,"input",9),l(17,"button",10),b("click",function(o){return e.togglePassword(o)}),l(18,"mat-icon"),u(19),c()()(),l(20,"button",11),u(21," LOG IN "),c(),l(22,"a",12),b("click",function(){return e.goToForgotPassword()}),u(23,"Forgot password?"),c()()()()),t&2&&(p(8),D("formGroup",e.loginForm),p(8),D("type",e.hide()?"password":"text"),p(),A("aria-label","Toggle password visibility")("aria-pressed",e.hide()),p(2),rt(e.hide()?"visibility_off":"visibility"))},dependencies:[lt,xt,_t,ut,ft,ht,vt,gt,bt,Bt,At,Pt,Et,It,Rt,Tt,Dt,G,I,Ft,Lt,jt,zt,Nt],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin-top:20vh;padding:0;height:100vh;width:100vw;background-color:#2d2d2d;display:flex;justify-content:center;align-items:center}.header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100vw;height:60px;background-color:#2d2d2d;position:fixed;top:30px;left:0;z-index:10}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding-left:10px}.logo[_ngcontent-%COMP%]{height:50px;width:auto;padding:50px}.right-gradient[_ngcontent-%COMP%]{flex-grow:2;height:30px;background:linear-gradient(to right,#f60,#f3c,#06f)}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#2d2d2d;color:#fff;text-align:center;padding:30px;width:100%;max-width:400px;box-shadow:0 4px 10px #0000004d;border-radius:10px;margin-top:100px}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 80px);width:100%}.login-btn[_ngcontent-%COMP%]{width:100%;background-color:#fff!important;color:#000!important;font-weight:700;border-radius:5px;transition:background-color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]{margin-top:10px;color:#add8e6;text-decoration:none;font-size:14px}.forgot-password[_ngcontent-%COMP%]{display:block;margin-top:10px;color:#add8e6;text-decoration:none;font-size:14px;cursor:pointer;transition:color .3s ease-in-out}.forgot-password[_ngcontent-%COMP%]:hover{color:#fff}@media screen and (max-width: 600px){.logo[_ngcontent-%COMP%]{height:30px}.header[_ngcontent-%COMP%]{height:50px}.right-gradient[_ngcontent-%COMP%]{height:10px}.login-container[_ngcontent-%COMP%]{width:90%;padding:20px;margin:40px}.login-btn[_ngcontent-%COMP%]{font-size:14px}.forgot-password[_ngcontent-%COMP%]{font-size:12px}}"],changeDetection:0})};export{Zt as LoginComponent};
