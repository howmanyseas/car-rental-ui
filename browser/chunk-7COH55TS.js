import{a as se,b as fe,c as ge,d as Ce,e as he}from"./chunk-T7OTYHUQ.js";import{c as xe}from"./chunk-INLSX3IA.js";import{a as Me,b as _e,c as ke}from"./chunk-NLNVEAP2.js";import{a as ne,b as ie}from"./chunk-BVW3UXRY.js";import{a as le}from"./chunk-NONA7MWM.js";import{c as re,f as me}from"./chunk-HSVEJ4A5.js";import{a as de,b as ce,c as pe,d as ue}from"./chunk-75YCUOOS.js";import{b as Q,c as W}from"./chunk-M6W3NZ6F.js";import{a as oe,b as ae}from"./chunk-I2XLL75Z.js";import{a as K,c as U,f as q,g as J}from"./chunk-YW6MCIL5.js";import{a as B,b as z,c as L,f as j,g as R}from"./chunk-S6W4PYVY.js";import"./chunk-BEZHQCNN.js";import"./chunk-OBZFBI5J.js";import"./chunk-VPE76UKK.js";import"./chunk-GSQDRV4R.js";import{a as ee,b as te}from"./chunk-24OTYQQH.js";import"./chunk-GCRTNX5W.js";import{b as v,g as P,h as S,k as g,m as w,n as y,p as F,q as A,r as N,s as D,u as T,w as V}from"./chunk-XXBXU6LL.js";import{U as G,da as H,ja as X,ka as Y,la as Z,ma as $}from"./chunk-LKMVW7YE.js";import{Ca as p,Cb as b,Da as u,Ib as k,Pb as d,Yb as t,Zb as e,_b as i,cc as x,ed as E,fc as s,fd as O,hc as M,pb as c,pd as I,qc as C,rc as n,vb as _}from"./chunk-OVOXXI53.js";function Oe(f,l){if(f&1){let o=x();t(0,"div",59)(1,"mat-form-field",29)(2,"mat-label"),n(3,"Additional Fee"),e(),t(4,"mat-select",60)(5,"mat-option",61),n(6,"Tax (\u20AC50)"),e(),t(7,"mat-option",62),n(8,"Cleaning (\u20AC30)"),e(),t(9,"mat-option",63),n(10,"Car Tank (\u20AC40)"),e(),t(11,"mat-option",64),n(12,"Damage (\u20AC25)"),e(),t(13,"mat-option",65),n(14,"Airport Change (\u20AC25)"),e(),t(15,"mat-option",66),n(16,"Delayed CheckIN (\u20AC25)"),e(),t(17,"mat-option",67),n(18,"Other"),e()()(),t(19,"mat-form-field",29)(20,"mat-label"),n(21,"Price (\u20AC)"),e(),i(22,"input",68),e(),t(23,"button",69),s("click",function(){let a=p(o).index,m=M(2);return u(m.removeAdditionalFee(a))}),t(24,"mat-icon"),n(25,"delete"),e()()()}if(f&2){let o=l.index;d("formGroupName",o)}}function Ie(f,l){if(f&1){let o=x();t(0,"mat-card",11)(1,"h3"),n(2,"Additional Fees"),e(),i(3,"mat-divider")(4,"br"),t(5,"mat-card-content")(6,"div",55),k(7,Oe,26,1,"div",56),t(8,"div",57)(9,"button",58),s("click",function(){p(o);let a=M();return u(a.addAdditionalFees())}),t(10,"mat-icon"),n(11,"add"),e()()()()()()}if(f&2){let o=M();c(7),d("ngForOf",o.additionalFees.controls)}}var be=class f{constructor(l,o){this.fb=l;this.dialog=o}checkInForm;showAdditionalFees=!1;actualCheckOutDateControl=new g;actualCheckOutTimeControl=new g;actualCheckInDateControl=new g;actualCheckInTimeControl=new g;checkoutDatetime=new g;checkinDatetime=new g;summary={rentalId:"0000001",netAmount:0,extras:0,grossAmount:0};feeTypePriceMap={tax:50,cleaning:30,carTank:40,damage:25,aiport:25,delayed:10};carInformationFormGroup;ngOnInit(){this.checkInForm=this.fb.group({rentalNumber:[""],mva:[""],checkOutPrice:[""],checkInPrice:[""],actualCheckOut:[null],actualCheckIn:[null],actualCheckOutDate:[""],actualCheckOutTime:[""],actualCheckInDate:[""],actualCheckInTime:[""],kmOut:[""],kmIn:[""],fuelOut:[""],fuelIn:[""],netAmount:[""],tax:[""],carTank:[""],cleaning:[""],damage:[""],grossAmount:[""],mileageExtra:[""],amountOnHold:[""],paymentStatus:[""],additionalFees:this.fb.array([]),fuelExtra:[""]}),this.carInformationFormGroup=this.fb.group({mva:[""],carGroup:[""],licensePlate:[""],fuel:[""],carModel:[""],millage:[""],color:[""],status:[""],transmission:[""]})}get additionalFees(){return this.checkInForm.get("additionalFees")}updateActualCheckOut(){let l=this.actualCheckOutDateControl.value,o=this.actualCheckOutTimeControl.value;if(l&&o){let[r,a]=o.split(":"),m=new Date(l);m.setHours(+r),m.setMinutes(+a),this.checkoutDatetime.setValue(m)}}updateActualCheckIn(){let l=this.actualCheckInDateControl.value,o=this.actualCheckInTimeControl.value;if(l&&o){let[r,a]=o.split(":"),m=new Date(l);m.setHours(+r),m.setMinutes(+a),this.checkinDatetime.setValue(m)}}toggleAdditionalFees(){this.showAdditionalFees=!this.showAdditionalFees,this.showAdditionalFees&&this.additionalFees.length===0&&this.addAdditionalFees()}focusNext(l){l.preventDefault();let o=l,r=o.currentTarget,a=Array.from(r.querySelectorAll("input, select, textarea, button")),m=a.indexOf(o.target);m>-1&&m+1<a.length&&a[m+1].focus()}addAdditionalFees(){let l=this.fb.group({feeType:this.fb.control(null),price:this.fb.control(null)}),o=l.get("feeType"),r=l.get("price");o?.valueChanges.subscribe(a=>{a&&a in this.feeTypePriceMap&&!r?.dirty?r?.setValue(this.feeTypePriceMap[a]):r?.setValue(null)}),this.additionalFees.push(l)}removeAdditionalFee(l){this.additionalFees.removeAt(l)}addDamage(){this.dialog.open(le,{width:"500px",data:{}}).afterClosed().subscribe(o=>{o&&console.log("Damage coordinates:",o)})}static \u0275fac=function(o){return new(o||f)(_(T),_(re))};static \u0275cmp=b({type:f,selectors:[["app-check-in"]],decls:215,vars:16,consts:[["stepper",""],["checkOutDatePicker",""],["checkOutTimePicker",""],["checkInDatePicker",""],["checkInTimePicker",""],[1,"title"],[1,"container"],[1,"form-wrapper"],["headerPosition","bottom",3,"linear"],["label","Car Information",3,"stepControl"],[3,"formGroup"],[1,"form-container"],[1,"grid-fields"],["appearance","outline",1,"white-border"],["matInput","","formControlName","mva","placeholder","Enter MVA"],["appearance","outline",1,"readonly-field"],["matInput","","formControlName","carGroup"],["matInput","","formControlName","licensePlate"],["matInput","","formControlName","fuel"],["matInput","","formControlName","carModel"],["matInput","","formControlName","millage"],["matInput","","formControlName","color"],["matInput","","formControlName","status"],["matInput","","formControlName","transmission"],[1,"button-group"],["mat-button","","matStepperNext",""],["label","Check In",3,"stepControl"],[3,"keydown.enter","formGroup"],[1,"car-date-row"],["appearance","outline"],["matInput","","formControlName","amountOnHold"],["matInput","","formControlName","paymentStatus"],[1,"row-fields"],["matInput","","formControlName","actualCheckOutDate",3,"dateChange","matDatepicker"],["matSuffix","",3,"for"],[3,"touchUi"],["matInput","","formControlName","actualCheckOutTime",3,"timeSet","ngxTimepicker","format"],["matInput","","formControlName","actualCheckInDate",3,"dateChange","matDatepicker"],["matInput","","formControlName","actualCheckInTime",3,"timeSet","ngxTimepicker","format"],[1,"grid-two-columns"],["matInput","","formControlName","checkOutPrice"],["matInput","","formControlName","checkInPrice"],["matInput","","formControlName","netAmount"],["matInput","","formControlName","kmOut"],["matInput","","formControlName","kmIn"],["matInput","","formControlName","mileageExtra"],["matInput","","formControlName","fuelOut"],["matInput","","formControlName","fuelIn"],["matInput","","formControlName","fuelExtra"],["mat-raised-button","",1,"bluebutton",3,"click"],["class","form-container",4,"ngIf"],["matInput","","formControlName","grossAmount"],["mat-button","","matStepperPrevious",""],["mat-raised-button","",1,"buttons-end"],[1,"summary"],["formArrayName","additionalFees"],["class","fee-row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"add-fee-container"],["mat-mini-fab","","color","primary",3,"click"],[1,"fee-row",3,"formGroupName"],["formControlName","feeType"],["value","tax"],["value","cleaning"],["value","carTank"],["value","damage"],["value","aiport"],["value","delayed"],["value","other"],["matInput","","type","number","formControlName","price","placeholder","e.g. 50"],["mat-icon-button","","color","warn",3,"click"]],template:function(o,r){if(o&1){let a=x();t(0,"h2",5),n(1,"Check In"),e(),t(2,"div",6)(3,"div",7)(4,"mat-horizontal-stepper",8,0)(6,"mat-step",9)(7,"form",10)(8,"mat-card",11)(9,"mat-card-header")(10,"h3",5),n(11,"Car Information"),e()(),t(12,"mat-card-content"),i(13,"mat-divider")(14,"br"),t(15,"div",12)(16,"mat-form-field",13)(17,"mat-label"),n(18,"MVA"),e(),i(19,"input",14),e()(),t(20,"div",12)(21,"mat-form-field",15)(22,"mat-label"),n(23,"Car Group"),e(),i(24,"input",16),e(),t(25,"mat-form-field",15)(26,"mat-label"),n(27,"License Plate"),e(),i(28,"input",17),e(),t(29,"mat-form-field",15)(30,"mat-label"),n(31,"Fuel"),e(),i(32,"input",18),e(),t(33,"mat-form-field",15)(34,"mat-label"),n(35,"Car Model"),e(),i(36,"input",19),e(),t(37,"mat-form-field",15)(38,"mat-label"),n(39,"Millage"),e(),i(40,"input",20),e(),t(41,"mat-form-field",15)(42,"mat-label"),n(43,"Color"),e(),i(44,"input",21),e(),t(45,"mat-form-field",15)(46,"mat-label"),n(47,"Status"),e(),i(48,"input",22),e(),t(49,"mat-form-field",15)(50,"mat-label"),n(51,"Transmission"),e(),i(52,"input",23),e()(),t(53,"div",24)(54,"button",25),n(55,"Next"),e()()()()()(),t(56,"mat-step",26)(57,"form",27),s("keydown.enter",function(h){return p(a),u(r.focusNext(h))}),t(58,"mat-card",11)(59,"mat-card-content")(60,"div",28)(61,"div")(62,"h3"),n(63,"Payment"),e(),i(64,"mat-divider"),t(65,"mat-form-field",29)(66,"mat-label"),n(67,"Amount on Hold"),e(),i(68,"input",30),e(),t(69,"mat-form-field",29)(70,"mat-label"),n(71,"Payment Status"),e(),i(72,"input",31),e()(),t(73,"div")(74,"h3"),n(75,"Date"),e(),i(76,"mat-divider"),t(77,"div",32)(78,"mat-form-field",29)(79,"mat-label"),n(80,"Actual Check Out Date"),e(),t(81,"input",33),s("dateChange",function(){return p(a),u(r.updateActualCheckOut())}),e(),i(82,"mat-datepicker-toggle",34)(83,"mat-datepicker",35,1),e(),t(85,"mat-form-field",29)(86,"mat-label"),n(87,"Time"),e(),t(88,"input",36),s("timeSet",function(){return p(a),u(r.updateActualCheckOut())}),e(),i(89,"ngx-material-timepicker",null,2),e()(),t(91,"div",32)(92,"mat-form-field",29)(93,"mat-label"),n(94,"Actual Check In Date"),e(),t(95,"input",37),s("dateChange",function(){return p(a),u(r.updateActualCheckIn())}),e(),i(96,"mat-datepicker-toggle",34)(97,"mat-datepicker",35,3),e(),t(99,"mat-form-field",29)(100,"mat-label"),n(101,"Time"),e(),t(102,"input",38),s("timeSet",function(){return p(a),u(r.updateActualCheckIn())}),e(),i(103,"ngx-material-timepicker",null,4),e()()()(),t(105,"div",39)(106,"div")(107,"h3"),n(108,"Price"),e(),i(109,"mat-divider"),t(110,"mat-form-field",29)(111,"mat-label"),n(112,"Check Out Price"),e(),i(113,"input",40),e(),t(114,"mat-form-field",29)(115,"mat-label"),n(116,"Check In Price"),e(),i(117,"input",41),e(),t(118,"mat-form-field",29)(119,"mat-label"),n(120,"Net Amount"),e(),i(121,"input",42),e()(),t(122,"div")(123,"h3"),n(124,"Mileage"),e(),i(125,"mat-divider"),t(126,"mat-form-field",29)(127,"mat-label"),n(128,"KM Out"),e(),i(129,"input",43),e(),t(130,"mat-form-field",29)(131,"mat-label"),n(132,"KM In"),e(),i(133,"input",44),e(),t(134,"mat-form-field",29)(135,"mat-label"),n(136,"Mileage Additional Amount"),e(),i(137,"input",45),e()(),t(138,"div")(139,"h3"),n(140,"Fuel"),e(),i(141,"mat-divider"),t(142,"mat-form-field",29)(143,"mat-label"),n(144,"Fuel Out"),e(),i(145,"input",46),e(),t(146,"mat-form-field",29)(147,"mat-label"),n(148,"Fuel In"),e(),i(149,"input",47),e(),t(150,"mat-form-field",29)(151,"mat-label"),n(152,"Fuel Additional Amount"),e(),i(153,"input",48),e()()(),t(154,"div",24)(155,"button",49),s("click",function(){return p(a),u(r.toggleAdditionalFees())}),n(156," Add Additional Fees "),e(),t(157,"button",49),s("click",function(){return p(a),u(r.addDamage())}),n(158," Add Damage "),e()(),k(159,Ie,12,1,"mat-card",50),t(160,"div",39)(161,"div")(162,"h3"),n(163,"Gross Amount"),e(),i(164,"mat-divider"),t(165,"mat-form-field",29)(166,"mat-label"),n(167,"Gross Amount"),e(),i(168,"input",51),e()()(),t(169,"div",24)(170,"button",52),n(171," Back"),e(),t(172,"button",53),n(173,"Save"),e(),t(174,"button",53),n(175,"Print"),e(),t(176,"button",53),n(177,"Invoice"),e()()()()()()()(),t(178,"mat-card",54)(179,"mat-card-header")(180,"mat-card-title"),n(181,"Live Summary"),e()(),t(182,"mat-card-content")(183,"p")(184,"strong"),n(185,"Rental ID:"),e(),n(186," 0000001"),e(),t(187,"p")(188,"strong"),n(189,"First Name:"),e(),n(190," John"),e(),t(191,"p")(192,"strong"),n(193,"Last Name:"),e(),n(194," Doe"),e(),t(195,"p")(196,"strong"),n(197,"Check Out:"),e(),n(198," 01/04/2024"),e(),t(199,"p")(200,"strong"),n(201,"Check In:"),e(),n(202," 10/04/2024"),e(),t(203,"p")(204,"strong"),n(205,"Net Amount:"),e(),n(206," \u20AC300"),e(),t(207,"p")(208,"strong"),n(209,"Extras:"),e(),n(210," \u20AC50"),e(),t(211,"p")(212,"strong"),n(213,"Gross Amount:"),e(),n(214," \u20AC350"),e()()()()}if(o&2){let a=C(84),m=C(90),h=C(98),Ee=C(104);c(4),d("linear",!0),c(2),d("stepControl",r.carInformationFormGroup),c(),d("formGroup",r.carInformationFormGroup),c(49),d("stepControl",r.checkInForm),c(),d("formGroup",r.checkInForm),c(24),d("matDatepicker",a),c(),d("for",a),c(),d("touchUi",!0),c(5),d("ngxTimepicker",m)("format",24),c(7),d("matDatepicker",h),c(),d("for",h),c(),d("touchUi",!0),c(5),d("ngxTimepicker",Ee)("format",24),c(57),d("ngIf",r.showAdditionalFees)}},dependencies:[I,E,O,V,w,v,y,P,S,F,D,A,N,J,q,K,U,W,Q,$,X,Z,Y,R,B,L,j,z,ie,ne,ue,de,ce,pe,G,xe,ae,oe,H,te,ee,me,ke,Me,_e,he,se,fe,ge,Ce],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%;margin:0;padding:0;overflow:hidden}[_nghost-%COMP%]{display:block;margin:30px;overflow:hidden}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;gap:20px;padding:20px;box-sizing:border-box}.form-wrapper[_ngcontent-%COMP%]{flex:3;height:100%;overflow-y:auto;box-sizing:border-box;padding-right:10px}.form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-right:10px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff;font-family:Inter}input[_ngcontent-%COMP%], .mat-input-element[_ngcontent-%COMP%]::placeholder, .mat-form-field-label[_ngcontent-%COMP%], .mat-hint[_ngcontent-%COMP%]{color:#fff!important}.readonly-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:1!important;color:#fff!important}.mat-radio-button[_ngcontent-%COMP%]   .mat-radio-label[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%]{color:#fff!important}.form-container[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto}mat-card[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;max-height:75vh!important;overflow-y:hidden;padding-right:10px;box-sizing:border-box}mat-horizontal-stepper[_ngcontent-%COMP%]{background-color:transparent!important;flex:3;max-height:100%;overflow-y:auto}mat-step[_ngcontent-%COMP%]{background-color:#2d2d2d!important;color:#fff!important;margin-bottom:20px}mat-divider[_ngcontent-%COMP%]{background-color:#fff3}mat-option[_ngcontent-%COMP%]{color:#5d5d5d}.grid-fields[_ngcontent-%COMP%], .grid-two-columns[_ngcontent-%COMP%], .row-fields[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:20px}.grid-two-columns[_ngcontent-%COMP%]{gap:40px}.grid-two-columns[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .car-date-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:15px}.row-fields[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:space-between}.row-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;min-width:0}.button-group[_ngcontent-%COMP%], .buttons-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap;justify-content:flex-end}.bluebutton[_ngcontent-%COMP%]{background-color:var(--button-2)!important;color:#fff!important;border-radius:10px}.buttons-end[_ngcontent-%COMP%]{background-color:var(--button-1)!important;color:#fff!important;border-radius:10px}.fee-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:10px}.add-fee-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:10px}.summary[_ngcontent-%COMP%]{flex:1;height:fit-content;font-family:Inter;background:var(--color-gradient-opaque);color:#fff;position:sticky;top:30px;align-self:flex-start}.car-date-row[_ngcontent-%COMP%]{display:flex;gap:40px}@media (min-width: 800px) and (max-width: 1500px){.container[_ngcontent-%COMP%]{flex-direction:row}.form-wrapper[_ngcontent-%COMP%]{flex:3;max-width:75%}.summary[_ngcontent-%COMP%]{flex:1;max-width:25%;margin-top:0}.grid-two-columns[_ngcontent-%COMP%], .car-date-row[_ngcontent-%COMP%]{flex-direction:column;gap:15px}}@media (max-width: 800px){.container[_ngcontent-%COMP%], .form-wrapper[_ngcontent-%COMP%], .car-date-row[_ngcontent-%COMP%], .grid-two-columns[_ngcontent-%COMP%]{padding:0;margin:0;flex-direction:column;width:100%}.row-fields[_ngcontent-%COMP%], .button-group[_ngcontent-%COMP%], .buttons-group[_ngcontent-%COMP%]{width:100%;gap:5px}.row-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .buttons-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{font-size:1.2rem;margin:5px 0}mat-card[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{width:100%;padding:5px;box-sizing:border-box}.bluebutton[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}.summary[_ngcontent-%COMP%]{display:none}}"]})};export{be as CheckInComponent};
